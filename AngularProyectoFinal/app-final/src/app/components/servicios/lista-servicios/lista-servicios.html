<div class="hero-full-screen">
  <div class="container py-5">
    <div class="row">
      <div class="col-12">
        <h2 class="text-center mb-4 text-white"><i class="bi bi-briefcase me-2"></i> Catálogo de Servicios</h2>
      </div>
    </div>

    <!-- Mensaje de Carga -->
    @if(cargando()){
    <div class="d-flex justify-content-center mt-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando datos...</span>
      </div>
      <p class="ms-3">Cargando catálogo de servicios...</p>
    </div>
    }

    <!-- Mensaje de Error -->
    @if(mensajeError){
    <div class="alert alert-danger mt-4" role="alert">
      {{ mensajeError }}
    </div>
    }

    <!-- Listado de Servicios -->
    @if(!cargando() && servicios().length > 0){
    <div class="table-responsive mt-4 shadow-lg rounded-3">
      <!-- Tabla de Bootstrap -->
      <table class="table table-hover table-striped table-bordered align-middle">
        <thead class="bg-primary text-white">
          <tr>
            <th>ID</th>
            <th>Nombre del Servicio</th>
            <th>Descripción</th>
            <th>Precio Base</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <!-- CORREGIDO: track item.id -->
          @for(item of servicios(); track item.id){
          <tr>
            <!-- CORREGIDO: {{ item.id }} -->
            <td>{{ item.id }}</td>
            <td>{{ item.nombre }}</td>
            <td>{{ item.descripcion }}</td>
            <td>${{ item.precio_base | number:'1.2-2' }}</td>
            <td>
              <button class="btn btn-sm btn-outline-info me-2"><i class="bi bi-pencil"></i></button>
              <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
    }

    <!-- Mensaje si no hay datos -->
    @if(!cargando() && servicios().length === 0 && !mensajeError){
    <div class="alert alert-info text-center mt-4">
      <i class="bi bi-info-circle me-2"></i> No se encontraron servicios registrados.
      <a routerLink="/servicios/registro" class="alert-link ms-2">Registra uno ahora.</a>
    </div>
    }
  </div>

</div>
